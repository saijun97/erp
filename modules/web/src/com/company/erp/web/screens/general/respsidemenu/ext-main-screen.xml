<window xsi:schemaLocation="" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns="http://schemas.haulmont.com/cuba/screen/window.xsd"
        xmlns:swr="http://strangeway.org/xsd/responsive/sw-responsive.xsd"
        messagesPack="com.company.erp.web"
        caption="mainMsg://application.caption">
    <data>
        <keyValueCollection id="salesDc">
            <loader id="salesLoader">
                <query>
                    <![CDATA[select o.client, sum(o.totalAmount) from erp_Order o group by o.client]]>
                </query>
            </loader>
            <properties>
                <property class="com.company.erp.entity.crm.client.superclasses.Client"
                          name="client"/>
                <property datatype="decimal"
                          name="sum"/>
            </properties>
        </keyValueCollection>
    </data>
    <layout expand="horizontalWrap"
            stylename="c-sidemenu-responsive"
            responsive="true"
            height="100%">
        <hbox id="horizontalWrap"
              expand="workArea"
              stylename="c-sidemenu-layout"
              width="100%">
            <cssLayout id="sideMenuPanel"
                       height="100%"
                       stylename="c-sidemenu-panel">
                <button id="mobileMenuButton"
                        caption="mainMsg://app.menu"
                        icon="icons/mobile-menu.png"
                        stylename="primary c-sidemenu-toggle"/>
                <hbox id="mobileButtonsBox"
                      stylename="c-sidemenu-mobile-buttons">
                    <newWindowButton id="mobileNewWindowButton"
                                     description="mainMsg://newWindowBtnDescription"
                                     icon="app/images/new-window.png"/>
                    <userActionsButton id="mobileLogoutButton"/>
                </hbox>
                <hbox id="appTitleBox"
                      spacing="true"
                      stylename="c-sidemenu-title"
                      width="100%">
                    <label id="appTitleLabel"
                           value="mainMsg://application.logoLabel"/>
                </hbox>
                <cssLayout id="sideMenuWrap"
                           stylename="c-sidemenu-wrap">
                    <image id="logoImage"
                           stylename="c-app-icon"
                           align="MIDDLE_CENTER"
                           scaleMode="SCALE_DOWN"/>
                    <userIndicator id="userIndicator"
                                   width="100%"/>
                    <hbox id="mainButtonsBox"
                          stylename="c-main-buttons">
                        <newWindowButton id="newWindowButton"
                                         description="mainMsg://newWindowBtnDescription"
                                         icon="app/images/new-window.png"/>
                        <userActionsButton id="logoutButton"/>
                    </hbox>
                    <timeZoneIndicator id="timeZoneIndicator"
                                       width="100%"/>
                    <vbox id="mainVisualBox" margin="true">
                        <ftsField id="ftsField"
                                  width="100%"/>
                    </vbox>
                    <hbox spacing="true"/>
                    <sideMenu id="sideMenu"
                              sidePanel="sideMenuPanel"
                              sidePanelToggleButton="mobileMenuButton"/>
                </cssLayout>
            </cssLayout>
            <workArea id="workArea"
                      height="100%">
                <initialLayout margin="true"
                               spacing="true"
                               expand="tabSheet">
                    <tabSheet id="tabSheet"
                              width="100%"
                              responsive="true">
                        <tab id="mainTab"
                             caption="Organisation Overview"
                             expand="mainTabScrollBox">
                            <scrollBox id="mainTabScrollBox">
                                <swr:responsiveLayout width="100%"
                                                      scrollable="true"
                                                      spacing="true">
                                    <swr:row height="AUTO"
                                             grow="true"
                                             shrink="true"
                                             margin="false">
                                        <swr:column height="AUTO">
                                            <swr:content>
                                                <fragment screen="erp_ServiceRequestByStatusFragment"
                                                          height="275px"/>
                                            </swr:content>
                                            <swr:display xs="12" sm="6" md="6" lg="5"/>
                                        </swr:column>
                                        <swr:column height="AUTO">
                                            <swr:content>
                                                <fragment screen="erp_ServiceRequestsByDateFragment"
                                                          height="275px"/>
                                            </swr:content>
                                            <swr:display xs="12" sm="6" md="6" lg="7"/>
                                        </swr:column>
                                        <swr:column height="AUTO">
                                            <swr:content>
                                                <fragment screen="erp_SalesByDateFragment"
                                                          height="400px"/>
                                            </swr:content>
                                            <swr:display xs="12" sm="12" md="12" lg="12"/>
                                        </swr:column>
                                    </swr:row>
                                </swr:responsiveLayout>
                            </scrollBox>
                        </tab>

                        <tab id="clientsTab"
                             caption="Clients Overview"
                             spacing="true"
                             expand="clientsTabScrollBox">
                            <scrollBox id="clientsTabScrollBox">
                                <swr:responsiveLayout width="100%"
                                                      scrollable="true"
                                                      spacing="true">
                                    <swr:row height="AUTO"
                                             grow="true"
                                             shrink="true"
                                             margin="false">
                                        <swr:column height="AUTO">
                                            <swr:content>
                                                <fragment screen="erp_TopCustomersBySalesFragment"
                                                          height="200px"/>
                                            </swr:content>
                                            <swr:display xs="12" sm="6" md="6" lg="6"/>
                                        </swr:column>
                                        <swr:column height="AUTO">
                                            <swr:content>
                                                <fragment screen="erp_TopCustomersByOutstandingBalanceFragment"
                                                          height="200px"/>
                                            </swr:content>
                                            <swr:display xs="12" sm="6" md="6" lg="6"/>
                                        </swr:column>
                                    </swr:row>
                                </swr:responsiveLayout>
                                <fragment id="frag" screen="erp_SalesByDateFragment"
                                          height="400px"/>
                            </scrollBox>
                        </tab>
                        <tab id="serviceRequestsTab"
                             spacing="true"
                             caption="Service Requests Overview">
                        </tab>
                    </tabSheet>
                </initialLayout>
            </workArea>
        </hbox>
    </layout>
</window>